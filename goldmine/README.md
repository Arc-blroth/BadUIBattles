# Goldmine
## June 2020

_2D Captchas are sooo yesterday._

## Running

```
npm install && node index.js
```

## How it Works
### Random Password Generator

Random password generation is done by [base2048](https://github.com/qntm/base2048)
encoding arrays of numbers generated by the mulberry32 PRNG, with the current date
as the seed.

Obviously, do not use this for real password generation :)

### Getting around CORS

Because Minecraft Classic isn't served with `Access-Control-Allow-Origin`,
we can't access the embedded document from our main script
if we just embed https://classic.minecraft.net in an iframe.

But remember kids, CORS is client side only.

To get around CORS, we route the iframe to `/minecraft-cors-defeater`.
The server then fetches Classic's resources and sends it to the client.

### Is this a Mixin?

As part of the captcha, we need to detect when certain blocks are mined.
However, the minified script that drives Classic doesn't expose any
global hooks to detect this. But since the server already serves the
entire Classic script, we can simply inject a `postMessage` hook into
the `setBlock` function before the script is even loaded on the client!
(The script's integrity is not checked, though we _could_ modify that as well)

## Why this Captcha is Bad
https://github.com/cabaletta/baritone
